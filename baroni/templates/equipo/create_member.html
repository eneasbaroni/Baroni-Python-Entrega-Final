{% extends "base.html" %}
{% block title %} Crear Miembro {% endblock %}
{% block content %}
<section class="section">
  {% if request.method == "GET"%}  
  
    <!-- El permiso de superusuario se maneja desde views.py --> 
    <main id="form">

      <h1>CREAR MIEMBRO</h1> 
        <div class="formContainer">
          <form action="" method="POST" enctype="multipart/form-data"> <!-- en acction no va nada ya que utiliza la misma url -->
  
            {% csrf_token %} 
            <legend>FORMULARIO DE CREACION</legend>
  
            <table>
              {{ form.as_table }} <!-- Formulario de Django -->
            </table> 
              
            <div class="form-group">
              <button type="submit" className="addBtn">CREAR</button>
            </div>
                        
          </form>
          
        </div> 
        <div class="mainLinks">
          <a href="/equipo/list-equipo">Volver a Equipo</a>
        </div>
    </main>    

  {% else %}

    <main>
      <div class="mainLinks createPage">
        {%if form.errors %} <!-- manejo de errores que envai django al verificar el formulario -->
          <h1>ERROR AL CREAR MIEMBRO</h1> 
          <h2>{{ form.errors }}</h2>  
          <a href="/equipo/create-member">Volver a Formulario</a>
        {% else %}
          <h1>MIEMBRO AGREGADO</h1>  
          <a href="/equipo/list-equipo">Ir a Equipo</a>
        {% endif %}
      </div>      
    </main>
      
  {% endif %}

</section>
{% endblock %}